<html><!--
 Archive processed by SingleFile 
 url: https://www.student.cs.uwaterloo.ca/~cs136/assignments/a4/ 
 saved date: Thu Apr 02 2015 13:35:19 GMT-0400 (EDT) 
--><head><title>CS 136 Assignment 4</title>
<link type="image/x-icon" rel="shortcut icon" href="data:image/x-icon;base64,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/////////////////////////////////////////////////////////////////////////////////////////////////////////////////8wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="></head>
<body>
<h1>CS 136 Assignment 4</h1>
<p>Due Friday, February 13 at 11:59 AM sharp (noon).</p>
<p>Please read the preamble in <a href="https://www.student.cs.uwaterloo.ca/~cs136/assignments/a1/preamble.shtml">Assignment 1</a>.</p>
<!--hr>
<p>In this assignment, you <strong>must use the functional C style of section 03</strong>.&nbsp; 
Only the C language features introduced in section 03 are allowed.&nbsp; <u>You do <em><strong>not</strong></em> have to worry about integer overflow </u>(discussed in a later section).</p-->
<!--hr>
<strong>For this assignment, you may not use the <tt>math.h</tt> library.</strong-->
<hr>

<strong>Notes:</strong>
<ul>
<li>For this and future assignments make sure your output is exactly as specified in the question.  Extra whitespace or newline characters could cause you to fail all of the basic and correctness tests in marmoset.</li>
<li>For this and future assignments, you should assert all required restrictions on the parameters of your functions, when appropriate.</li>
<li>You are not allowed to make any change to the interface files (with extentions <tt>.h</tt>) provided in this assignment unless otherwise explicitly permitted (e.g., in Problem 3).</li>
<li>For this assignement, you are allowed to use the concepts and syntax that have been presented up to (and including) Section 6.</li>
</ul>
<h3>Assignment 4 Problem 0. <i>[2+2+2=6 Marks for correctness.]</i></h3>
<strong>Problem 0 is a "warm-up" question.  You are allowed to collaborate with your fellow classmates and discuss the solution on piazza.</strong>

<p>For each of the following problems (a, b and c) you must submit the indicated .c file, no .h file required. The .c file should contain only one function. No helper function is allowed.</p>
<ol type="a">

<li> The <em>Collatz conjecture</em> is as follows: (see <a href="http://en.wikipedia.org/wiki/Collatz_conjecture">Wikipedia</a> for detail)
	<ol type="i">
		<li>Start with an <tt>int</tt>eger n greater than 1. </li>
		<li>If n is even, divide it by 2 to get n / 2. Otherwise, multiply it by 3 and add 1 to obtain 3n + 1.</li>
		<li>n will always eventually reach 1 by performing the above step (ii) repeatedly. 
	</li></ol>b
	Write a C module <tt>collatz_count.c</tt> that provides the function <tt>int collatz_count(int n);</tt> This function should return the number times you need to apply step (ii) above to obtain 1.

	<p><em>Public test samples:</em><br>
<code>
assert(collatz_count(2) == 1);<br>
assert(collatz_count(32) == 5);<br>
</code></p>

</li><li>Write a C module <tt>series.c</tt> that provides the following function:<br>
 <tt>int series(int n)</tt> that returns the <tt>n<sup>th</sup></tt> number (<tt>1 &lt;= n &lt;= 100</tt>) of the following series:<br>
 1, 4, 10, 19, 31, .....
  
<p><em>Public test samples:</em><br>
<code>
assert(series(1) == 1);<br>
assert(series(4) == 19);<br>
</code></p>
</li>


<li>Write a C module <tt>swap.c</tt> that provides the <tt>void swap(struct posn *p, struct posn *q);</tt> function for swapping the fields of <tt>p</tt> with those of <tt>q</tt>. Use the following definition of <tt>struct posn</tt>:<br>
 <tt>struct posn { int x; int y; };</tt><br>
 
<p><em>Public test samples:</em><br>
<code>
struct posn a = {3, 4};<br>
struct posn b = {5, 6};<br>
swap(&amp;a, &amp;b);<br>
assert(a.x == 5);<br>
assert(a.y == 6);<br>
assert(b.x == 3);<br>
assert(b.y == 4);<br>
</code></p>
</li>

<!--li>Write a C module <tt>find_match.c</tt> that provides the following function:<br/>
<pre><code>
// find_match returns <tt>true</tt> if <tt>digit</tt> occurs in the <tt>number</tt> exactly <tt>count</tt> times and <tt>false</tt> otherwise.  
// PRE: 1 <= digit <= 9, 0 <= count <= 9
// POST: return boolean 
bool find_match(int number, int digit, int count)</tt> 
</code></pre>
 
<p><em>Public test samples:</em><br>
<code>
assert(find_match(13221521, 1, 3));<br />
assert(!find_match(13221521, 2, 4));<br />
</code></p>
</li-->
</ol>
<hr>
<h3>Assignment 4 Problem 1. <i>[10 Marks correctness. File: collatz.c]</i></h3>
  Write a C module (<tt>collatz.c</tt>) that implements the interface in <tt><a href="https://www.student.cs.uwaterloo.ca/~cs136/assignments/a4/collatz.h">collatz.h</a></tt>. This interface contains two functions <tt>void collatz_init(int n)</tt> and <tt>int collatz_next(void)</tt>. Calling <tt>collatz_init(n)</tt> should set the current state to <tt>n</tt>, whereas <tt>collatz_next()</tt> should return the next number in collatz sequence. Calling <tt>collatz_next()</tt> after the internal state reaches <tt>1</tt> should always return 1.
  <p><em>Public test sample:</em><br>
  <tt>collatz_init(7);</tt><br>
  <tt>assert(collatz_next() == 22);</tt><br>
  <tt>collatz_init(11);</tt><br>
  <tt>assert(collatz_next() == 34);</tt><br>
  <tt>assert(collatz_next() == 17);</tt><br>
  <tt>assert(collatz_next() == 52);</tt><br>
	</p>
<hr>
<h3>Assignment 4 Problem 2. <i>[24 Marks correctness. File: analyzer.c]</i></h3>
<p>
Callback functions are often used with device drivers. Conceptually, a callback function is a special function that an application registers  
with a device driver, and the device driver in turn calls that function whenever new data is available. In this problem, 
you will implement a callback function <tt>void data_cb(int raw);</tt> for a signal analyzer. Each time <tt>data_cb(n)</tt> is called by 
the analyzer (in this case our test module), you must update the internal state of your module based on the value of <tt>n</tt>. 
Due to resource limitation, you are not allowed to store each data point, i.e., you cannot use an array. Instead, you can have a few
module variables to keep track of the statistics that are required to correctly implement the interface in <a href="https://www.student.cs.uwaterloo.ca/~cs136/assignments/a4/analyzer.h">analyzer.h</a>. </p>

<p><em>Public test samples:</em></p>
assume that <tt>data_cb(n)</tt> have been invoked with the following values: <tt>2 5 7 4 1 -3 -6 -5 -3 1 3 5</tt><br>

<tt>
   assert (total_data_points() == 12);<br>
   assert (negative_sum() == -17);<br>
   assert (positive_sum() == 28);<br>
   assert (data_max() == 7);<br>
   assert (data_min() == -6);<br>
   assert (data_spread() == 4);<br>
</tt>
<hr>
<h3>Assignment 4 Problem 3. <i> [30 Marks for correctness, 5 marks hand-marking, File: banking.zip (contains banking.h and banking.c)]</i></h3>
<p>For this question, you will Write the C implementation <tt> banking.c </tt> for the interface <tt><a href="https://www.student.cs.uwaterloo.ca/~cs136/assignments/a4/banking.h">banking.h</a></tt>. The purpose of this question is to provide you with practice
using a mutable program <b>state</b>. Becoming used to writing programs with states and functions with
side effects will be very important later in the course when program states become more complex.</p>
<p>Note that you are only allowed to add fields to the  <tt>bank_acct</tt> structure in <tt>banking.h</tt>. You are not allowed to change 
anything outside the <tt>bank_acct</tt> structure.</p>
<em>Public test sample:</em><br><br>
<tt>    
struct bank_acct ba1 = create_acct(123456789,0);<br>
    struct bank_acct ba2 = create_acct(987654321,100);<br>
    set_active_acct(&amp;ba1);<br>
    deposit(30);<br>
    withdraw(20);<br>
<br>
    assert(get_balance() == 10);<br>
    assert(max_withdrawal() == 20);<br>
    assert(max_deposit() == 30);<br>
    assert(transaction_count() == 2);<br>
<br>
    set_active_acct(&amp;ba2);<br>
    deposit(100);<br>
    wire_transfer(&amp;ba1, 10);
<br>
    assert(get_balance() == 210);<br>
    assert(max_withdrawal() == 0);<br>
    assert(max_deposit() == 100);<br>
    assert(transaction_count() == 2);<br>
</tt><br>

<!--p><strong>Note:</strong> The post-conditions in <tt>banking.h</tt> are generic when talking about updating the statistics.  This is enough for somebody using your module, but not for somebody maintaining your module.  Your implementation should contain additional post-conditions that are specific to how your implementation keeps track of the statistics.</p-->
<hr>
<h3>Assignment 4 Problem 4. <i> [20+15=35 Marks for correctness]</i></h3>
<!--This problem is divided into two tasks.-->
For each of the following problems (a and b) you must submit the indicated .c file, no .h file required. 
<ol type="a">
<li>
<h4><i>[20 Marks for correctness. File: art.c]</i></h4>
<p>In this problem you will implement the function, <tt>ascii_shape</tt>, defined in <tt><a href="https://www.student.cs.uwaterloo.ca/~cs136/assignments/a4/art.h">art.h</a></tt> as follows: </p>
<p><tt>void ascii_shape(struct shape *ps1, struct shape *ps2, int size);</tt></p>
<p>
This function prints two shapes side-by-side, as defined by the <tt>ps1</tt> and <tt>ps2</tt> parameters. Each shape is <tt>size</tt> characters high (i.e. size lines) and <tt>size</tt> characters wide. A shape is composed of three regions:</p>
<ol>
<li>characters above a diagonal</li>
<li>characters below a diagonal</li>
<li>characters on the diagonal</li>
</ol>
Depending on the diagonal there are two types of shapes:
<ul>
<li>A: the diagonal is from the upper-left corner to the lower-right corner.</li>
<li>B: the diagonal is from the upper-right corner to the lower-left corner.</li>
</ul>
<tt>struct shape</tt> structure has four fields as follows:
<ul>
<li><tt>char type</tt>: can be either <tt>'A'</tt> or <tt>'B'</tt> indicating the type of diagonal.</li>
<li><tt>char upper</tt>: is the character to be used for filling the cells over the major diagonal.</li>
<li><tt>char diag</tt>: is the character to be used for filling the cells on the major diagonal.</li>
<li><tt>char lower</tt>: is the character to be used for filling the cells below the major diagonal.</li>
</ul>
Note that if <tt>ascii_shape</tt> is called with <tt>size == 4</tt> then it should print 4 lines and each line will contain exactly 8 
characters as specified by <tt>ps1</tt> and <tt>ps2</tt>. 

<em>Public test sample:</em><br><br>
<tt>
   struct shape a = {'A', 'u', 'd', 'l'};<br>
   struct shape b = {'B', 'u', 'd', 'l'};<br>
   struct shape sa = {'A', ' ', 'd', ' '};<br>
   struct shape sb = {'B', ' ', 'd', ' '};     <br> 
   ascii_shape(&amp;sa, &amp;a, 4);<br>
   printf("\n");<br>
   ascii_shape(&amp;sb, &amp;b, 4);<br>
</tt>   
<p><em>Output:</em></p>
<tt>
d&nbsp;&nbsp;&nbsp;duuu<br>
&nbsp;d&nbsp;&nbsp;lduu<br>
&nbsp;&nbsp;d&nbsp;lldu<br>
&nbsp;&nbsp;&nbsp;dllld<br>
<br>
&nbsp;&nbsp;&nbsp;duuud<br>
&nbsp;&nbsp;d&nbsp;uudl<br>
&nbsp;d&nbsp;&nbsp;udll<br>
d&nbsp;&nbsp;&nbsp;dlll<br>
</tt>
</li>
<li>
<h4><i>[15 Marks for correctness. File: shapes.c]</i></h4>
<p>Now you must use the <tt>ascii_shape</tt> function from <em>Task A</em> to draw the shapes defined in <tt><a href="https://www.student.cs.uwaterloo.ca/~cs136/assignments/a4/shapes.h">shapes.h</a></tt>. These shapes are explained using the following examples. The <tt>size</tt> parameter in the <tt>diamond</tt>, <tt>window</tt> and <tt>flag</tt> functions indicates the size to be passed to the <tt>ascii_shape</tt> function. You must include <tt>art.h</tt> in your <tt>shape</tt> module in order to access the <tt>ascii_shape</tt> function. </p>

<tt>
   diamond(4);<br>
   window(4);<br>
   flag(5);<br>
</tt>
<br>
<tt>
&nbsp;&nbsp;&nbsp;/\&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;/##\&nbsp;&nbsp;<br>
&nbsp;/####\&nbsp;<br>
/######\<br>
\######/<br>
&nbsp;\####/&nbsp;<br>
&nbsp;&nbsp;\##/&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;\/&nbsp;&nbsp;&nbsp;<br>
<br>
###/\###<br>
##/&nbsp;&nbsp;\##<br>
#/&nbsp;&nbsp;&nbsp;&nbsp;\#<br>
/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<br>
\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<br>
#\&nbsp;&nbsp;&nbsp;&nbsp;/#<br>
##\&nbsp;&nbsp;/##<br>
###\/###<br>
<br>
\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/<br>
&amp;\&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&amp;<br>
&amp;&amp;\&nbsp;&nbsp;&nbsp;&nbsp;/&amp;&amp;<br>
&amp;&amp;&amp;\&nbsp;&nbsp;/&amp;&amp;&amp;<br>
&amp;&amp;&amp;&amp;\/&amp;&amp;&amp;&amp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;/\&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;\&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;&nbsp;<br>
&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;<br>
/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<br>
</tt>
</li>
<ol>

</ol></ol></body></html>